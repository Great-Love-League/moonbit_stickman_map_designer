# 🚀 快速入门指南

## 5分钟上手Box2D地图设计器

### 第一步：启动应用（30秒）

```bash
# 进入项目目录
cd moonbit_stickman_map_designer

# 安装依赖（首次运行）
npm install

# 启动开发服务器
npm run dev
```

浏览器会自动打开 `http://localhost:3000`

---

### 第二步：创建第一个场景（2分钟）

#### 创建地面

1. 点击工具栏的 **"矩形"** 按钮
2. 在画布下方点击并拖动，创建一个宽而扁的矩形
3. 在右侧属性面板中，将 **"刚体类型"** 改为 **"Static"**（静态）
4. 调整 **摩擦力** 为 `0.5`

#### 创建小球

1. 点击工具栏的 **"圆形"** 按钮
2. 在地面上方点击并拖动，创建一个圆形
3. 保持 **"刚体类型"** 为 **"Dynamic"**（动态）
4. 设置 **弹性** 为 `0.8`

#### 预览效果（即将推出）

点击 **"演示"** 按钮（未来版本将实现物理模拟）

---

### 第三步：调整物理属性（1分钟）

选中圆形，在属性面板中尝试：

- **密度**：`1.0` → `2.0`（更重）
- **摩擦力**：`0.3` → `0.1`（更滑）
- **弹性**：`0.5` → `0.9`（更弹）

---

### 第四步：保存和导出（1分钟）

#### 保存项目

1. 点击 **"保存"** 按钮
2. 下载的 `map.json` 文件包含所有对象和属性
3. 下次可以点击 **"加载"** 按钮重新打开

#### 导出Box2D格式

1. 点击 **"导出"** 按钮
2. 下载的 `box2d_export.json` 可以直接在Box2D中使用
3. 文件包含：
   - 世界设置（重力等）
   - 所有刚体定义
   - 所有关节定义

---

## 🎨 常用操作速查

### 工具切换

| 工具 | 快捷键 | 用途 |
|------|--------|------|
| 选择 | V | 选择和移动对象 |
| 矩形 | R | 创建矩形刚体 |
| 圆形 | C | 创建圆形刚体 |
| 多边形 | P | 创建多边形刚体 |
| 距离关节 | D | 创建弹簧连接 |
| 旋转关节 | J | 创建铰链连接 |

### 鼠标操作

| 操作 | 功能 |
|------|------|
| 单击 | 选择对象 |
| 拖动 | 移动选中的对象 |
| 点击拖动 | 创建矩形/圆形 |
| 多次点击 | 创建多边形顶点 |
| 双击 | 完成多边形创建 |
| Delete键 | 删除选中对象 |

---

## 💡 实用技巧

### 技巧1：创建完美的正方形

1. 选择矩形工具
2. 按住 Shift（未来版本）或手动调整
3. 在属性面板中设置相同的宽度和高度

### 技巧2：快速复制设置

当前版本需要手动设置，未来将支持：
- 复制/粘贴对象
- 预制件系统

### 技巧3：对齐到网格

1. 观察画布上的20×20像素网格
2. 将对象移动到网格交叉点
3. 使用坐标显示精确定位

### 技巧4：调试坐标

- 创建工具会显示鼠标十字线
- 红点标记精确的鼠标位置
- 状态栏显示实时坐标

---

## 🏗️ 实战示例

### 示例1：简单摆锤

```
步骤：
1. 创建一个静态矩形（天花板）
2. 创建一个动态圆形（摆锤）
3. 选择"旋转关节"工具
4. 点击天花板底部（锚点A）
5. 点击圆形顶部（锚点B）
6. 导出JSON，在Box2D中测试
```

### 示例2：弹簧系统

```
步骤：
1. 创建两个动态矩形
2. 选择"距离关节"工具
3. 点击第一个矩形中心
4. 点击第二个矩形中心
5. 在属性面板中调整：
   - 频率：6 Hz（较硬的弹簧）
   - 阻尼比：0.3（轻微阻尼）
```

### 示例3：连续的平台

```
步骤：
1. 创建第一个静态矩形
2. 点击"保存"（保存当前状态）
3. 在不同位置创建更多平台
4. 所有平台设为Static类型
5. 调整摩擦力为0.3-0.5
```

---

## 📊 刚体类型选择指南

### Static（静态）
**用途**：地面、墙壁、固定平台  
**特点**：
- ✅ 不受力影响
- ✅ 不会移动
- ✅ 性能最好
- ❌ 不能推动其他物体

**示例**：地板、天花板、柱子

### Dynamic（动态）
**用途**：玩家角色、可移动物体  
**特点**：
- ✅ 受重力影响
- ✅ 可以移动和旋转
- ✅ 参与所有物理交互
- ❌ 需要密度大于0

**示例**：球、箱子、小车

### Kinematic（运动学）
**用途**：移动平台、电梯  
**特点**：
- ✅ 可以移动
- ✅ 不受力影响
- ✅ 可以推动动态物体
- ❌ 需要程序控制移动

**示例**：电梯、传送带、移动平台

---

## 🎯 物理参数调节指南

### 密度 (Density)
- **低** (0.5)：轻飘飘的物体（气球）
- **中** (1.0)：普通物体（木头）
- **高** (5.0)：沉重的物体（金属）

### 摩擦力 (Friction)
- **低** (0.1)：冰面、光滑表面
- **中** (0.3)：普通表面
- **高** (0.8)：粗糙表面、橡胶

### 弹性 (Restitution)
- **低** (0.1)：软物体，几乎不反弹
- **中** (0.5)：普通物体
- **高** (0.9)：超级弹球

### 阻尼
- **线性阻尼**：空气阻力（0.1-1.0）
- **角阻尼**：旋转阻力（0.1-1.0）

---

## 🔗 关节类型选择

### 距离关节 (Distance Joint)
**效果**：像弹簧一样连接两个物体

**适用场景**：
- 弹簧
- 绳索（设置频率=0）
- 软体连接

**参数调节**：
- **频率高**（6-10 Hz）→ 硬弹簧
- **频率低**（2-4 Hz）→ 软弹簧
- **阻尼高**（0.7-1.0）→ 快速停止
- **阻尼低**（0.1-0.3）→ 持续振动

### 旋转关节 (Revolute Joint)
**效果**：像铰链一样连接两个物体

**适用场景**：
- 门
- 摆锤
- 机械臂关节

**参数调节**：
- **启用角度限制** → 限制旋转范围
- **下限/上限** → 设置可旋转角度
- **马达**（未来版本）→ 主动旋转

---

## ❓ 常见问题快速解答

### Q：对象创建位置不对？
**A**：已修复！确保：
- 使用最新版本
- 观察鼠标十字线和红点
- 查看状态栏坐标显示

### Q：无法移动对象？
**A**：
1. 确认已选择"选择"工具（V键）
2. 点击对象使其高亮显示（绿色边框）
3. 拖动移动

### Q：关节创建失败？
**A**：
1. 确保已选择关节工具
2. 先点击第一个刚体
3. 再点击第二个刚体
4. 查看状态栏提示信息

### Q：导出的JSON如何使用？
**A**：参考 [API.md](./API.md) 中的详细集成代码

---

## 📚 进阶学习

### 完整文档
- 📘 [用户手册](./USER_GUIDE.md) - 详细功能说明
- 📗 [API文档](./API.md) - Box2D格式规范
- 📙 [架构文档](./ARCHITECTURE.md) - 技术细节

### 推荐阅读
1. Box2D官方文档：https://box2d.org/documentation/
2. Canvas教程：MDN Web Docs
3. TypeScript手册：https://www.typescriptlang.org/docs/

---

## 🎉 开始创作！

现在你已经掌握了基础知识，开始创建你的物理世界吧！

```bash
npm run dev
```

**Have fun! 🚀**

---

*提示：遇到问题可以查看 [USER_GUIDE.md](./USER_GUIDE.md) 的常见问题部分*
